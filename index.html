<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <meta content="March Madness" name="apple-mobile-web-app-title">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" sizes="128x128">
    <link rel="apple-touch-startup-image" href="assets/img/ipad_splash.png">
    <link href="assets/img/favicon.ico" rel="icon">
    <title>March Madness</title>
    <!-- Latest compiled and minified Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="main.css" rel="stylesheet">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js">
    </script>
    <!-- Latest compiled Bootstrap JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js">
    </script>
    <!-- luxon to process json date and time -->
    <script src="https://moment.github.io/luxon/global/luxon.min.js">
    </script>
</head>

<body>
    <div>
        <img id="MuteAll" src="assets/img/2020_logo.svg"> <img id="MuteAllOutline" src="assets/img/2020_logo_outline.svg"> <img id="VolumeDown" src="assets/img/minus.svg"> <img id="VolumeUp" src="assets/img/plus.svg">
    </div>
    <div class="bg">
        <div class="container-fluid" id="ContainerTop">
            <div class="row">
                <div class="col-lg-6">
                    <table class="table table-borderless text-white">
                        <thead id="TLlisten">
                            <tr id="TLch1now">
                                <th class="align-middle"><img class="img-fluid" id="TLch1nowimg"></th>
                                <th class="align-middle h5" id="TLch1nowEPG"></th>
                            </tr>
                            <tr id="TLch2now">
                                <th class="align-middle"><img class="img-fluid" id="TLch2nowimg"></th>
                                <th class="align-middle h5" id="TLch2nowEPG"></th>
                            </tr>
                            <tr id="TLch3now">
                                <th class="align-middle"><img class="img-fluid" id="TLch3nowimg"></th>
                                <th class="align-middle h5" id="TLch3nowEPG"></th>
                            </tr>
                            <tr id="TLch4now">
                                <th class="align-middle"><img class="img-fluid" id="TLch4nowimg"></th>
                                <th class="align-middle h5" id="TLch4nowEPG"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr id="TLlistenselect">
                                <th></th>
                                <th></th>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-lg-6">
                    <table class="table table-borderless text-white">
                        <thead id="TRlisten">
                            <tr id="TRch1now">
                                <th class="align-middle"><img class="img-fluid" id="TRch1nowimg"></th>
                                <th class="align-middle h5" id="TRch1nowEPG"></th>
                            </tr>
                            <tr id="TRch2now">
                                <th class="align-middle"><img class="img-fluid" id="TRch2nowimg"></th>
                                <th class="align-middle h5" id="TRch2nowEPG"></th>
                            </tr>
                            <tr id="TRch3now">
                                <th class="align-middle"><img class="img-fluid" id="TRch3nowimg"></th>
                                <th class="align-middle h5" id="TRch3nowEPG"></th>
                            </tr>
                            <tr id="TRch4now">
                                <th class="align-middle"><img class="img-fluid" id="TRch4nowimg"></th>
                                <th class="align-middle h5" id="TRch4nowEPG"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr id="TRlistenselect">
                                <th></th>
                                <th></th>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="container-fluid" id="ContainerBottom">
            <div class="row">
                <div class="col-lg-6">
                    <table class="table table-borderless text-white">
                        <thead>
                            <tr id="BLlistenselect">
                                <th id="hidelistenbar"></th>
                                <th id="hidelistenbar"></th>
                            </tr>
                        </thead>
                        <thead id="BLlisten">
                            <tr id="BLch1now">
                                <th class="align-middle"><img class="img-fluid" id="BLch1nowimg"></th>
                                <th class="align-middle h5" id="BLch1nowEPG"></th>
                            </tr>
                            <tr id="BLch2now">
                                <th class="align-middle"><img class="img-fluid" id="BLch2nowimg"></th>
                                <th class="align-middle h5" id="BLch2nowEPG"></th>
                            </tr>
                            <tr id="BLch3now">
                                <th class="align-middle"><img class="img-fluid" id="BLch3nowimg"></th>
                                <th class="align-middle h5" id="BLch3nowEPG"></th>
                            </tr>
                            <tr id="BLch4now">
                                <th class="align-middle"><img class="img-fluid" id="BLch4nowimg"></th>
                                <th class="align-middle h5" id="BLch4nowEPG"></th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="col-lg-6">
                    <table class="table table-borderless text-white">
                        <thead>
                            <tr id="BRlistenselect">
                                <th id="hidelistenbar"></th>
                                <th id="hidelistenbar"></th>
                            </tr>
                        </thead>
                        <thead id="BRlisten">
                            <tr id="BRch1now">
                                <th class="align-middle"><img class="img-fluid" id="BRch1nowimg"></th>
                                <th class="align-middle h5" id="BRch1nowEPG"></th>
                            </tr>
                            <tr id="BRch2now">
                                <th class="align-middle"><img class="img-fluid" id="BRch2nowimg"></th>
                                <th class="align-middle h5" id="BRch2nowEPG"></th>
                            </tr>
                            <tr id="BRch3now">
                                <th class="align-middle"><img class="img-fluid" id="BRch3nowimg"></th>
                                <th class="align-middle h5" id="BRch3nowEPG"></th>
                            </tr>
                            <tr id="BRch4now">
                                <th class="align-middle"><img class="img-fluid" id="BRch4nowimg"></th>
                                <th class="align-middle h5" id="BRch4nowEPG"></th>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <script>
        <!-- VARIABLES  -->
        <!-- Kodi IP addresses  -->
        var KodiTL = '10.0.64.10';
        var KodiTR = '10.0.64.11';
        var KodiBL = '10.0.64.12';
        var KodiBR = '10.0.64.13';

        <!-- Kodi PVR Channels -->
        var PVRch1 = "CBS";
        var PVRch2 = "TBS HD";
        var PVRch3 = "TNT HD";
        var PVRch4 = "tru TV HD";

        <!-- Color selections -->
        var channelselectcolor = '#3259B1';
        var listenoutline = '#3259B1';

        <!-- Kodi websocket addresses -->
        var websocketTL = new WebSocket('ws://' + KodiTL + ':9090/jsonrpc');
        var websocketTR = new WebSocket('ws://' + KodiTR + ':9090/jsonrpc');
        var websocketBL = new WebSocket('ws://' + KodiBL + ':9090/jsonrpc');
        var websocketBR = new WebSocket('ws://' + KodiBR + ':9090/jsonrpc');

        <!-- Open Top Left tv websocket connection -->
        websocketTL.onopen = function(event) {
            websocketTL.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "PVR.GetChannels",
                "params": {
                    "channelgroupid": "alltv"
                },
                "id": "PVR.GetChannelsTL"
            }))
            websocketTL.onmessage = function(event) {
                var results = JSON.parse(event.data);
                console.log(results);
                if (results.id) {
                    <!-- switch allows us to process results based on specific id -->
                    <!-- process returned JSON results from initial request -->
                    switch (results.id) {
                        <!-- globally define the PVR channelids and names
                        case "PVR.GetChannelsTL":
                            var findchannel = $.grep(results.result.channels, function(element, index) {
                                return element.label == PVRch1;
                            });
                            window.TLch1id = findchannel[0].channelid;
                            window.TLch1name = findchannel[0].label;
                            var findchannel = $.grep(results.result.channels, function(element, index) {
                                return element.label == PVRch2;
                            });
                            window.TLch2id = findchannel[0].channelid;
                            window.TLch2name = findchannel[0].label;
                            var findchannel = $.grep(results.result.channels, function(element, index) {
                                return element.label == PVRch3;
                            });
                            window.TLch3id = findchannel[0].channelid;
                            window.TLch3name = findchannel[0].label;
                            var findchannel = $.grep(results.result.channels, function(element, index) {
                                return element.label == PVRch4;
                            });
                            window.TLch4id = findchannel[0].channelid;
                            window.TLch4name = findchannel[0].label;
                            <!-- identify which channel is active  -->
                            websocketTL.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "Player.GetItem",
                                "params": {
                                    "properties": ["title"],
                                    "playerid": 1
                                },
                                "id": "Player.GetActiveChannelTL"
                            }))
                            break;
                            <!-- set background color for the active channel and define global active channel variable -->
                        case "Player.GetActiveChannelTL":
                            var response = results.result.item.id;
                            window.TLchactiveid = 0;
							window.TLchactivename = 0;
                            if (response === TLch1id) {
                                $('#TLch1now').css('background-color', channelselectcolor)
                                $('#TLch2now').css('background-color', 'transparent')
                                $('#TLch3now').css('background-color', 'transparent')
                                $('#TLch4now').css('background-color', 'transparent')
                                window.TLchactiveid = TLch1id;
								window.TLchactivename = results.result.item.label
                            } else if (response === TLch2id) {
                                $('#TLch1now').css('background-color', 'transparent')
                                $('#TLch2now').css('background-color', channelselectcolor)
                                $('#TLch3now').css('background-color', 'transparent')
                                $('#TLch4now').css('background-color', 'transparent')
                                window.TLchactiveid = TLch2id;
								window.TLchactivename = results.result.item.label
                            } else if (response === TLch3id) {
                                $('#TLch1now').css('background-color', 'transparent')
                                $('#TLch2now').css('background-color', 'transparent')
                                $('#TLch3now').css('background-color', channelselectcolor)
                                $('#TLch4now').css('background-color', 'transparent')
                                window.TLchactiveid = TLch3id;
								window.TLchactivename = results.result.item.label
                            } else if (response === TLch4id) {
                                $('#TLch1now').css('background-color', 'transparent')
                                $('#TLch2now').css('background-color', 'transparent')
                                $('#TLch3now').css('background-color', 'transparent')
                                $('#TLch4now').css('background-color', channelselectcolor)
                                window.TLchactiveid = TLch4id;
								window.TLchactivename = results.result.item.label
                            }
                            <!-- get the PVR channels EPG data and icon -->
                            websocketTL.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "PVR.GetChannelDetails",
                                "params": {
                                    "channelid": TLch1id,
                                    "properties": ["broadcastnow", "broadcastnext", "icon"]
                                },
                                "id": "PVR.GetChannelDetailsTLch1"
                            }))
                            break;
                            <!-- tvheadend backend grabbing EPG using Schedules Direct JSON web services with SQLite DB -->
                            <!-- EPG time provided is in format "YYYY-MM-DD HH:MM:SS". Time is GMT but is not properly formatted ISO 8601 format. Using luxon to add GMT zone to the retreived JSON data and then localized to the proper time zone so the correct time is displayed. -->
                        case "PVR.GetChannelDetailsTLch1":
                            var datetimeparse = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnow.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetime = datetimeparse.setZone("local");
                            var datetimeparsenext = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnext.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetimenext = datetimeparsenext.setZone("local");
                            <!-- send the results to the specified table row -->
                            document.getElementById("TLch1nowimg").src = results.result.channeldetails.icon;
                            if (results.result.channeldetails.broadcastnow.title === "2020 NCAA Basketball Tournament") {
                                document.getElementById("TLch1nowEPG").innerHTML = results.result.channeldetails.broadcastnow.episodename;
                            } else {
                                document.getElementById("TLch1nowEPG").innerHTML = results.result.channeldetails.broadcastnow.title;
                            }
                            websocketTL.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "PVR.GetChannelDetails",
                                "params": {
                                    "channelid": TLch2id,
                                    "properties": ["broadcastnow", "broadcastnext", "icon"]
                                },
                                "id": "PVR.GetChannelDetailsTLch2"
                            }))
                            break;
                        case "PVR.GetChannelDetailsTLch2":
                            var datetimeparse = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnow.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetime = datetimeparse.setZone("local");
                            var datetimeparsenext = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnext.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetimenext = datetimeparsenext.setZone("local");
                            document.getElementById("TLch2nowimg").src = results.result.channeldetails.icon;
                            if (results.result.channeldetails.broadcastnow.title === "2020 NCAA Basketball Tournament") {
                                document.getElementById("TLch2nowEPG").innerHTML = results.result.channeldetails.broadcastnow.episodename;
                            } else {
                                document.getElementById("TLch2nowEPG").innerHTML = results.result.channeldetails.broadcastnow.title;
                            }
                            websocketTL.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "PVR.GetChannelDetails",
                                "params": {
                                    "channelid": TLch3id,
                                    "properties": ["broadcastnow", "broadcastnext", "icon"]
                                },
                                "id": "PVR.GetChannelDetailsTLch3"
                            }))
                            break;
                        case "PVR.GetChannelDetailsTLch3":
                            var datetimeparse = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnow.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetime = datetimeparse.setZone("local");
                            var datetimeparsenext = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnext.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetimenext = datetimeparsenext.setZone("local");
                            document.getElementById("TLch3nowimg").src = results.result.channeldetails.icon;
                            if (results.result.channeldetails.broadcastnow.title === "2020 NCAA Basketball Tournament") {
                                document.getElementById("TLch3nowEPG").innerHTML = results.result.channeldetails.broadcastnow.episodename;
                            } else {
                                document.getElementById("TLch3nowEPG").innerHTML = results.result.channeldetails.broadcastnow.title;
                            }
                            websocketTL.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "PVR.GetChannelDetails",
                                "params": {
                                    "channelid": TLch4id,
                                    "properties": ["broadcastnow", "broadcastnext", "icon"]
                                },
                                "id": "PVR.GetChannelDetailsTLch4"
                            }))
                            break;
                        case "PVR.GetChannelDetailsTLch4":
                            var datetimeparse = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnow.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetime = datetimeparse.setZone("local");
                            var datetimeparsenext = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnext.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetimenext = datetimeparsenext.setZone("local");
                            document.getElementById("TLch4nowimg").src = results.result.channeldetails.icon;
                            if (results.result.channeldetails.broadcastnow.title === "2020 NCAA Basketball Tournament") {
                                document.getElementById("TLch4nowEPG").innerHTML = results.result.channeldetails.broadcastnow.episodename;
                            } else {
                                document.getElementById("TLch4nowEPG").innerHTML = results.result.channeldetails.broadcastnow.title;
                            }
                            <!-- request volume information -->
                            websocketTL.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "Application.GetProperties",
                                "params": {
                                    "properties": ["volume"]
                                },
                                "id": "Application.VolumeTL"
                            }))
                            break;
                        case "Application.VolumeTL":
                            var response = results.result.volume;
                            <!-- all tvs are muted -->
                            if ((response === 0) && ($('#TRlistenselect').css('visibility') === 'visible') && ($('#BLlistenselect').css('visibility') === 'visible') && ($('#BRlistenselect').css('visibility') === 'visible')) {
                                $('#TLlistenselect').css('visibility', 'visible')
                                $('#TLlisten').css('border-color', 'transparent')
                                $('#VolumeUp').css('visibility', 'hidden')
                                $('#VolumeDown').css('visibility', 'hidden')
                                $('#MuteAllOutline').css('visibility', 'visible')
                                window.TLvolume = response
                                    <!-- top left tv is muted -->	
                            } else if (response === 0) {
                                $('#TLlistenselect').css('visibility', 'visible')
                                $('#TLlisten').css('border-color', 'transparent')
                                window.TLvolume = response
                                    <!-- top left tv is not muted -->
                            } else if (response != 0) {
                                $('#TLlistenselect').css('visibility', 'hidden')
                                $('#TLlisten').css('border-color', listenoutline)
                                $('#VolumeUp').css('visibility', 'visible')
                                $('#VolumeDown').css('visibility', 'visible')
                                $('#MuteAllOutline').css('visibility', 'hidden')
                                window.TLvolume = response
                            }
                        default:
                    }
                } else {
                    <!-- process all JSON messages that are received without sending a requeste -->
                    switch (results.method) {
                        <!-- change in active channel -->
                        case "Player.OnPlay":
                            var notification = results.params.data.item.id;
                            if (notification === TLch1id) {
                                $('#TLch1now').css('background-color', channelselectcolor)
                                $('#TLch2now').css('background-color', 'transparent')
                                $('#TLch3now').css('background-color', 'transparent')
                                $('#TLch4now').css('background-color', 'transparent')
                                window.TLchactiveid = TLch1id;
								window.TLchactivename = results.params.data.item.title
                            } else if (notification === TLch2id) {
                                $('#TLch1now').css('background-color', 'transparent')
                                $('#TLch2now').css('background-color', channelselectcolor)
                                $('#TLch3now').css('background-color', 'transparent')
                                $('#TLch4now').css('background-color', 'transparent')
                                window.TLchactiveid = TLch2id;
								window.TLchactivename = results.params.data.item.title
                            } else if (notification === TLch3id) {
                                $('#TLch1now').css('background-color', 'transparent')
                                $('#TLch2now').css('background-color', 'transparent')
                                $('#TLch3now').css('background-color', channelselectcolor)
                                $('#TLch4now').css('background-color', 'transparent')
                                window.TLchactiveid = TLch3id;
								window.TLchactivename = results.params.data.item.title
                            } else if (notification === TLch4id) {
                                $('#TLch1now').css('background-color', 'transparent')
                                $('#TLch2now').css('background-color', 'transparent')
                                $('#TLch3now').css('background-color', 'transparent')
                                $('#TLch4now').css('background-color', channelselectcolor)
                                window.TLchactiveid = TLch4id;
								window.TLchactivename = results.params.data.item.title
                            }
                            break;
                        case "Player.OnStop":
                            var notification = results.method;
                            <!-- top left tv has been stopped -->
                            if (notification === "Player.OnStop") {
                                $('#TLch1now').css('background-color', 'transparent')
                                $('#TLch2now').css('background-color', 'transparent')
                                $('#TLch3now').css('background-color', 'transparent')
                                $('#TLch4now').css('background-color', 'transparent')
								window.TLchactiveid = 0;
								window.TLchactivename = 0
                            }
                            break;
                            <!-- volume has changed -->
                        case "Application.OnVolumeChanged":
                            var notification = results.params.data.volume;
                            if ((notification === 0) && ($('#TRlistenselect').css('visibility') === 'visible') && ($('#BLlistenselect').css('visibility') === 'visible') && ($('#BRlistenselect').css('visibility') === 'visible')) { //are all tv's muted?
                                $('#TLlistenselect').css('visibility', 'visible')
                                $('#TLlisten').css('border-color', 'transparent')
                                $('#VolumeUp').css('visibility', 'hidden')
                                $('#VolumeDown').css('visibility', 'hidden')
                                $('#MuteAllOutline').css('visibility', 'visible')
                                window.TLvolume = notification
                            } else if (notification === 0) {
                                $('#TLlistenselect').css('visibility', 'visible')
                                $('#TLlisten').css('border-color', 'transparent')
                                window.TLvolume = notification
                            } else if (notification != 0) {
                                $('#TLlistenselect').css('visibility', 'hidden')
                                $('#TLlisten').css('border-color', listenoutline)
                                $('#VolumeUp').css('visibility', 'visible')
                                $('#VolumeDown').css('visibility', 'visible')
                                $('#MuteAllOutline').css('visibility', 'hidden')
                                window.TLvolume = notification
                            }
                    }
                }
            }
        };

        // Open websocketTR connection
        websocketTR.onopen = function(event) {
            websocketTR.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "PVR.GetChannels",
                "params": {
                    "channelgroupid": "alltv"
                },
                "id": "PVR.GetChannelsTR"
            }))
            websocketTR.onmessage = function(event) {
                var results = JSON.parse(event.data);
                console.log(results);
                if (results.id) {
                    <!-- switch allows us to process results based on specific id -->
                    <!-- process returned JSON results from initial request -->
                    switch (results.id) {
                        <!-- globally define the PVR channelids and names
                        case "PVR.GetChannelsTR":
                            var findchannel = $.grep(results.result.channels, function(element, index) {
                                return element.label == PVRch1;
                            });
                            window.TRch1id = findchannel[0].channelid;
                            window.TRch1name = findchannel[0].label;
                            var findchannel = $.grep(results.result.channels, function(element, index) {
                                return element.label == PVRch2;
                            });
                            window.TRch2id = findchannel[0].channelid;
                            window.TRch2name = findchannel[0].label;
                            var findchannel = $.grep(results.result.channels, function(element, index) {
                                return element.label == PVRch3;
                            });
                            window.TRch3id = findchannel[0].channelid;
                            window.TRch3name = findchannel[0].label;
                            var findchannel = $.grep(results.result.channels, function(element, index) {
                                return element.label == PVRch4;
                            });
                            window.TRch4id = findchannel[0].channelid;
                            window.TRch4name = findchannel[0].label;
                            <!-- identify which channel is active -->
                            websocketTR.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "Player.GetItem",
                                "params": {
                                    "properties": ["title"],
                                    "playerid": 1
                                },
                                "id": "Player.GetActiveChannelTR"
                            }))
                            break;
                            <!-- set background color for the active channel and define global active channel variable -->
                        case "Player.GetActiveChannelTR":
                            var response = results.result.item.id;
                            window.TRchactiveid = 0;
							window.TRchactivename = 0;
                            if (response === TRch1id) {
                                $('#TRch1now').css('background-color', channelselectcolor)
                                $('#TRch2now').css('background-color', 'transparent')
                                $('#TRch3now').css('background-color', 'transparent')
                                $('#TRch4now').css('background-color', 'transparent')
                                window.TRchactiveid = TRch1id;
								window.TRchactivename = results.result.item.label
                            } else if (response === TRch2id) {
                                $('#TRch1now').css('background-color', 'transparent')
                                $('#TRch2now').css('background-color', channelselectcolor)
                                $('#TRch3now').css('background-color', 'transparent')
                                $('#TRch4now').css('background-color', 'transparent')
                                window.TRchactiveid = TRch2id;
								window.TRchactivename = results.result.item.label
                            } else if (response === TRch3id) {
                                $('#TRch1now').css('background-color', 'transparent')
                                $('#TRch2now').css('background-color', 'transparent')
                                $('#TRch3now').css('background-color', channelselectcolor)
                                $('#TRch4now').css('background-color', 'transparent')
                                window.TRchactiveid = TRch3id;
								window.TRchactivename = results.result.item.label
                            } else if (response === TRch4id) {
                                $('#TRch1now').css('background-color', 'transparent')
                                $('#TRch2now').css('background-color', 'transparent')
                                $('#TRch3now').css('background-color', 'transparent')
                                $('#TRch4now').css('background-color', channelselectcolor)
                                window.TRchactiveid = TRch4id;
								window.TRchactivename = results.result.item.label
                            }
                            <!-- get the PVR channels EPG data and icon -->
                            websocketTR.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "PVR.GetChannelDetails",
                                "params": {
                                    "channelid": TRch1id,
                                    "properties": ["broadcastnow", "broadcastnext", "icon"]
                                },
                                "id": "PVR.GetChannelDetailsTRch1"
                            }))
                            break;
                            <!-- tvheadend backend grabbing EPG using Schedules Direct JSON web services with SQLite DB -->
                            <!-- EPG time provided is in format "YYYY-MM-DD HH:MM:SS". Time is GMT but is not properly formatted ISO 8601 format. Using luxon to add GMT zone to the retreived JSON data and then localized to the proper time zone so the correct time is displayed. -->
                        case "PVR.GetChannelDetailsTRch1":
                            var datetimeparse = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnow.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetime = datetimeparse.setZone("local");
                            <!-- send the results to the specified table row -->
                            document.getElementById("TRch1nowimg").src = results.result.channeldetails.icon;
                            if (results.result.channeldetails.broadcastnow.title === "2020 NCAA Basketball Tournament") {
                                document.getElementById("TRch1nowEPG").innerHTML = results.result.channeldetails.broadcastnow.episodename;
                            } else {
                                document.getElementById("TRch1nowEPG").innerHTML = results.result.channeldetails.broadcastnow.title;
                            }
                            websocketTR.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "PVR.GetChannelDetails",
                                "params": {
                                    "channelid": TRch2id,
                                    "properties": ["broadcastnow", "broadcastnext", "icon"]
                                },
                                "id": "PVR.GetChannelDetailsTRch2"
                            }))
                            break;
                        case "PVR.GetChannelDetailsTRch2":
                            var datetimeparse = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnow.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetime = datetimeparse.setZone("local");
                            document.getElementById("TRch2nowimg").src = results.result.channeldetails.icon;
                            if (results.result.channeldetails.broadcastnow.title === "2020 NCAA Basketball Tournament") {
                                document.getElementById("TRch2nowEPG").innerHTML = results.result.channeldetails.broadcastnow.episodename;
                            } else {
                                document.getElementById("TRch2nowEPG").innerHTML = results.result.channeldetails.broadcastnow.title;
                            }
                            websocketTR.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "PVR.GetChannelDetails",
                                "params": {
                                    "channelid": TRch3id,
                                    "properties": ["broadcastnow", "broadcastnext", "icon"]
                                },
                                "id": "PVR.GetChannelDetailsTRch3"
                            }))
                            break;
                        case "PVR.GetChannelDetailsTRch3":
                            var datetimeparse = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnow.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetime = datetimeparse.setZone("local");
                            document.getElementById("TRch3nowimg").src = results.result.channeldetails.icon;
                            if (results.result.channeldetails.broadcastnow.title === "2020 NCAA Basketball Tournament") {
                                document.getElementById("TRch3nowEPG").innerHTML = results.result.channeldetails.broadcastnow.episodename;
                            } else {
                                document.getElementById("TRch3nowEPG").innerHTML = results.result.channeldetails.broadcastnow.title;
                            }
                            websocketTR.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "PVR.GetChannelDetails",
                                "params": {
                                    "channelid": TRch4id,
                                    "properties": ["broadcastnow", "broadcastnext", "icon"]
                                },
                                "id": "PVR.GetChannelDetailsTRch4"
                            }))
                            break;
                        case "PVR.GetChannelDetailsTRch4":
                            var datetimeparse = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnow.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetime = datetimeparse.setZone("local");
                            document.getElementById("TRch4nowimg").src = results.result.channeldetails.icon;
                            if (results.result.channeldetails.broadcastnow.title === "2020 NCAA Basketball Tournament") {
                                document.getElementById("TRch4nowEPG").innerHTML = results.result.channeldetails.broadcastnow.episodename;
                            } else {
                                document.getElementById("TRch4nowEPG").innerHTML = results.result.channeldetails.broadcastnow.title;
                            }
                            <!-- request volume information -->
                            websocketTR.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "Application.GetProperties",
                                "params": {
                                    "properties": ["volume"]
                                },
                                "id": "Application.VolumeTR"
                            }))
                            break;
                        case "Application.VolumeTR":
                            var response = results.result.volume;
                            <!-- all tvs are muted -->
                            if ((response === 0) && ($('#TLlistenselect').css('visibility') === 'visible') && ($('#BLlistenselect').css('visibility') === 'visible') && ($('#BRlistenselect').css('visibility') === 'visible')) {
                                $('#TRlistenselect').css('visibility', 'visible')
                                $('#TRlisten').css('border-color', 'transparent')
                                $('#VolumeUp').css('visibility', 'hidden')
                                $('#VolumeDown').css('visibility', 'hidden')
                                $('#MuteAllOutline').css('visibility', 'visible')
                                window.TRvolume = response
                                    <!-- top right tv is muted -->	
                            } else if (response === 0) {
                                $('#TRlistenselect').css('visibility', 'visible')
                                $('#TRlisten').css('border-color', 'transparent')
                                window.TRvolume = response
                                    <!-- top right tv is not muted -->
                            } else if (response != 0) {
                                $('#TRlistenselect').css('visibility', 'hidden')
                                $('#TRlisten').css('border-color', listenoutline)
                                $('#VolumeUp').css('visibility', 'visible')
                                $('#VolumeDown').css('visibility', 'visible')
                                $('#MuteAllOutline').css('visibility', 'hidden')
                                window.TRvolume = response
                            }
                        default:
                    }
                } else {
                    <!-- process all JSON messages that are received without sending a requeste -->
                    switch (results.method) {
                        <!-- change in active channel -->
                        case "Player.OnPlay":
                            var notification = results.params.data.item.id;
                            if (notification === TRch1id) {
                                $('#TRch1now').css('background-color', channelselectcolor)
                                $('#TRch2now').css('background-color', 'transparent')
                                $('#TRch3now').css('background-color', 'transparent')
                                $('#TRch4now').css('background-color', 'transparent')
                                window.TRchactiveid = TRch1id;
								window.TRchactivename = results.params.data.item.title
                            } else if (notification === TRch2id) {
                                $('#TRch1now').css('background-color', 'transparent')
                                $('#TRch2now').css('background-color', channelselectcolor)
                                $('#TRch3now').css('background-color', 'transparent')
                                $('#TRch4now').css('background-color', 'transparent')
                                window.TRchactiveid = TRch2id;
								window.TRchactivename = results.params.data.item.title
                            } else if (notification === TRch3id) {
                                $('#TRch1now').css('background-color', 'transparent')
                                $('#TRch2now').css('background-color', 'transparent')
                                $('#TRch3now').css('background-color', channelselectcolor)
                                $('#TRch4now').css('background-color', 'transparent')
                                window.TRchactiveid = TRch3id;
								window.TRchactivename = results.params.data.item.title
                            } else if (notification === TRch4id) {
                                $('#TRch1now').css('background-color', 'transparent')
                                $('#TRch2now').css('background-color', 'transparent')
                                $('#TRch3now').css('background-color', 'transparent')
                                $('#TRch4now').css('background-color', channelselectcolor)
                                window.TRchactiveid = TRch4id;
								window.TRchactivename = results.params.data.item.title
                            }
                            break;
                            <!-- top right tv has been stopped -->
                        case "Player.OnStop":
                            var notification = results.method;
                            if (notification === "Player.OnStop") {
                                $('#TRch1now').css('background-color', 'transparent')
                                $('#TRch2now').css('background-color', 'transparent')
                                $('#TRch3now').css('background-color', 'transparent')
                                $('#TRch4now').css('background-color', 'transparent')
								window.TRchactiveid = 0;
								window.TRchactivename = 0

                            }
                            break;
                            <!-- volume has changed -->
                        case "Application.OnVolumeChanged":
                            var notification = results.params.data.volume;
                            if ((notification === 0) && ($('#TLlistenselect').css('visibility') === 'visible') && ($('#BLlistenselect').css('visibility') === 'visible') && ($('#BRlistenselect').css('visibility') === 'visible')) {
                                $('#TRlistenselect').css('visibility', 'visible')
                                $('#TRlisten').css('border-color', 'transparent')
                                $('#VolumeUp').css('visibility', 'hidden')
                                $('#VolumeDown').css('visibility', 'hidden')
                                $('#MuteAllOutline').css('visibility', 'visible')
                                window.TRvolume = notification
                            } else if (notification === 0) {
                                $('#TRlistenselect').css('visibility', 'visible')
                                $('#TRlisten').css('border-color', 'transparent')
                                window.TRvolume = notification
                            } else if (notification != 0) {
                                $('#TRlistenselect').css('visibility', 'hidden')
                                $('#TRlisten').css('border-color', listenoutline)
                                $('#VolumeUp').css('visibility', 'visible')
                                $('#VolumeDown').css('visibility', 'visible')
                                $('#MuteAllOutline').css('visibility', 'hidden')
                                window.TRvolume = notification
                            }
                    }
                }
            }
        };

        // Open websocketBL connection
        websocketBL.onopen = function(event) {
            websocketBL.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "PVR.GetChannels",
                "params": {
                    "channelgroupid": "alltv",
                    "properties": ["uniqueid"]
                },
                "id": "PVR.GetChannelsBL"
            }))
            websocketBL.onmessage = function(event) {
                var results = JSON.parse(event.data);
                console.log(results);
                if (results.id) {
                    <!-- switch allows us to process results based on specific id -->
                    <!-- process returned JSON results from initial request -->
                    switch (results.id) {
                        <!-- globally define the PVR channelids and names
                        case "PVR.GetChannelsBL":
                            var findchannel = $.grep(results.result.channels, function(element, index) {
                                return element.label == PVRch1;
                            });
                            window.BLch1id = findchannel[0].channelid;
                            window.BLch1name = findchannel[0].label;
                            var findchannel = $.grep(results.result.channels, function(element, index) {
                                return element.label == PVRch2;
                            });
                            window.BLch2id = findchannel[0].channelid;
                            window.BLch2name = findchannel[0].label;
                            var findchannel = $.grep(results.result.channels, function(element, index) {
                                return element.label == PVRch3;
                            });
                            window.BLch3id = findchannel[0].channelid;
                            window.BLch3name = findchannel[0].label;
                            var findchannel = $.grep(results.result.channels, function(element, index) {
                                return element.label == PVRch4;
                            });
                            window.BLch4id = findchannel[0].channelid;
                            window.BLch4name = findchannel[0].label;
                            <!-- identify which channel is active  -->
                            websocketBL.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "Player.GetItem",
                                "params": {
                                    "properties": ["title"],
                                    "playerid": 1
                                },
                                "id": "Player.GetActiveChannelBL"
                            }))
                            break;
                            <!-- set background color for the active channel and define global active channel variable -->
                        case "Player.GetActiveChannelBL":
                            var response = results.result.item.id;
                            window.BLchactiveid = 0;
							window.BLchactivename = 0;
                            if (response === BLch1id) {
                                $('#BLch1now').css('background-color', channelselectcolor)
                                $('#BLch2now').css('background-color', 'transparent')
                                $('#BLch3now').css('background-color', 'transparent')
                                $('#BLch4now').css('background-color', 'transparent')
                                window.BLchactiveid = BLch1id;
								window.BLchactivename = results.result.item.label
                            } else if (response === BLch2id) {
                                $('#BLch1now').css('background-color', 'transparent')
                                $('#BLch2now').css('background-color', channelselectcolor)
                                $('#BLch3now').css('background-color', 'transparent')
                                $('#BLch4now').css('background-color', 'transparent')
                                window.BLchactiveid = BLch2id;
								window.BLchactivename = results.result.item.label
                            } else if (response === BLch3id) {
                                $('#BLch1now').css('background-color', 'transparent')
                                $('#BLch2now').css('background-color', 'transparent')
                                $('#BLch3now').css('background-color', channelselectcolor)
                                $('#BLch4now').css('background-color', 'transparent')
                                window.BLchactiveid = BLch3id;
								window.BLchactivename = results.result.item.label
                            } else if (response === BLch4id) {
                                $('#BLch1now').css('background-color', 'transparent')
                                $('#BLch2now').css('background-color', 'transparent')
                                $('#BLch3now').css('background-color', 'transparent')
                                $('#BLch4now').css('background-color', channelselectcolor)
                                window.BLchactiveid = BLch4id;
								window.BLchactivename = results.result.item.label
                            }
                            <!-- get the PVR channels EPG data and icon -->
                            websocketBL.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "PVR.GetChannelDetails",
                                "params": {
                                    "channelid": BLch1id,
                                    "properties": ["broadcastnow", "broadcastnext", "icon"]
                                },
                                "id": "PVR.GetChannelDetailsBLch1"
                            }))
                            break;
                            <!-- tvheadend backend grabbing EPG using Schedules Direct JSON web services with SQLite DB -->
                            <!-- EPG time provided is in format "YYYY-MM-DD HH:MM:SS". Time is GMT but is not properly formatted ISO 8601 format. Using luxon to add GMT zone to the retreived JSON data and then localized to the proper time zone so the correct time is displayed. -->
                        case "PVR.GetChannelDetailsBLch1": // define the channel guide data 
                            var datetimeparse = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnow.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetime = datetimeparse.setZone("local");
                            <!-- send the results to the specified table row -->
                            document.getElementById("BLch1nowimg").src = results.result.channeldetails.icon;
                            if (results.result.channeldetails.broadcastnow.title === "2020 NCAA Basketball Tournament") {
                                document.getElementById("BLch1nowEPG").innerHTML = results.result.channeldetails.broadcastnow.episodename;
                            } else {
                                document.getElementById("BLch1nowEPG").innerHTML = results.result.channeldetails.broadcastnow.title;
                            }
                            websocketBL.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "PVR.GetChannelDetails",
                                "params": {
                                    "channelid": BLch2id,
                                    "properties": ["broadcastnow", "broadcastnext", "icon"]
                                },
                                "id": "PVR.GetChannelDetailsBLch2"
                            }))
                            break;
                        case "PVR.GetChannelDetailsBLch2": // define the channel guide data 
                            var datetimeparse = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnow.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetime = datetimeparse.setZone("local");
                            document.getElementById("BLch2nowimg").src = results.result.channeldetails.icon;
                            if (results.result.channeldetails.broadcastnow.title === "2020 NCAA Basketball Tournament") {
                                document.getElementById("BLch2nowEPG").innerHTML = results.result.channeldetails.broadcastnow.episodename;
                            } else {
                                document.getElementById("BLch2nowEPG").innerHTML = results.result.channeldetails.broadcastnow.title;
                            }
                            websocketBL.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "PVR.GetChannelDetails",
                                "params": {
                                    "channelid": BLch3id,
                                    "properties": ["broadcastnow", "broadcastnext", "icon"]
                                },
                                "id": "PVR.GetChannelDetailsBLch3"
                            }))
                            break;
                        case "PVR.GetChannelDetailsBLch3": // define the channel guide data 
                            var datetimeparse = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnow.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetime = datetimeparse.setZone("local");
                            document.getElementById("BLch3nowimg").src = results.result.channeldetails.icon;
                            if (results.result.channeldetails.broadcastnow.title === "2020 NCAA Basketball Tournament") {
                                document.getElementById("BLch3nowEPG").innerHTML = results.result.channeldetails.broadcastnow.episodename;
                            } else {
                                document.getElementById("BLch3nowEPG").innerHTML = results.result.channeldetails.broadcastnow.title;
                            }
                            websocketBL.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "PVR.GetChannelDetails",
                                "params": {
                                    "channelid": BLch4id,
                                    "properties": ["broadcastnow", "broadcastnext", "icon"]
                                },
                                "id": "PVR.GetChannelDetailsBLch4"
                            }))
                            break;
                        case "PVR.GetChannelDetailsBLch4": // define the channel guide data 
                            var datetimeparse = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnow.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetime = datetimeparse.setZone("local");
                            document.getElementById("BLch4nowimg").src = results.result.channeldetails.icon;
                            if (results.result.channeldetails.broadcastnow.title === "2020 NCAA Basketball Tournament") {
                                document.getElementById("BLch4nowEPG").innerHTML = results.result.channeldetails.broadcastnow.episodename;
                            } else {
                                document.getElementById("BLch4nowEPG").innerHTML = results.result.channeldetails.broadcastnow.title;
                            }
                            <!-- request volume information -->
                            websocketBL.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "Application.GetProperties",
                                "params": {
                                    "properties": ["volume"]
                                },
                                "id": "Application.VolumeBL"
                            }))
                            break;
                        case "Application.VolumeBL":
                            var response = results.result.volume;
                            <!-- all tvs are muted -->
                            if ((response === 0) && ($('#TLlistenselect').css('visibility') === 'visible') && ($('#TRlistenselect').css('visibility') === 'visible') && ($('#BRlistenselect').css('visibility') === 'visible')) {
                                $('#BLlistenselect').css('visibility', 'visible')
                                $('#BLlisten').css('border-color', 'transparent')
                                $('#VolumeUp').css('visibility', 'hidden')
                                $('#VolumeDown').css('visibility', 'hidden')
                                $('#MuteAllOutline').css('visibility', 'visible')
                                window.BLvolume = response
                                    <!-- bottom left tv is muted -->	
                            } else if (response === 0) {
                                $('#BLlistenselect').css('visibility', 'visible')
                                $('#BLlisten').css('border-color', 'transparent')
                                window.BLvolume = response
                                    <!-- bottom left tv is not muted -->
                            } else if (response != 0) {
                                $('#BLlistenselect').css('visibility', 'hidden')
                                $('#BLlisten').css('border-color', listenoutline)
                                $('#VolumeUp').css('visibility', 'visible')
                                $('#VolumeDown').css('visibility', 'visible')
                                $('#MuteAllOutline').css('visibility', 'hidden')
                                window.BLvolume = response
                            }
                        default:
                    }
                } else {
                    <!-- process all JSON messages that are received without sending a requeste -->
                    switch (results.method) {
                        <!-- change in active channel -->
                        case "Player.OnPlay":
                            var notification = results.params.data.item.id;
                            if (notification === BLch1id) {
                                $('#BLch1now').css('background-color', channelselectcolor)
                                $('#BLch2now').css('background-color', 'transparent')
                                $('#BLch3now').css('background-color', 'transparent')
                                $('#BLch4now').css('background-color', 'transparent')
                                window.BLchactiveid = BLch1id;
								window.BLchactivename = results.params.data.item.title
                            } else if (notification === BLch2id) {
                                $('#BLch1now').css('background-color', 'transparent')
                                $('#BLch2now').css('background-color', channelselectcolor)
                                $('#BLch3now').css('background-color', 'transparent')
                                $('#BLch4now').css('background-color', 'transparent')
                                window.BLchactiveid = BLch2id;
								window.BLchactivename = results.params.data.item.title
                            } else if (notification === BLch3id) {
                                $('#BLch1now').css('background-color', 'transparent')
                                $('#BLch2now').css('background-color', 'transparent')
                                $('#BLch3now').css('background-color', channelselectcolor)
                                $('#BLch4now').css('background-color', 'transparent')
                                window.BLchactiveid = BLch3id;
								window.BLchactivename = results.params.data.item.title
                            } else if (notification === BLch4id) {
                                $('#BLch1now').css('background-color', 'transparent')
                                $('#BLch2now').css('background-color', 'transparent')
                                $('#BLch3now').css('background-color', 'transparent')
                                $('#BLch4now').css('background-color', channelselectcolor)
                                window.BLchactiveid = BLch4id;
								window.BLchactivename = results.params.data.item.title
                            }
                            break;
                        case "Player.OnStop":
                            var notification = results.method;
                            <!-- bottom left tv has been stopped -->
                            if (notification == "Player.OnStop") {
                                $('#BLch1now').css('background-color', 'transparent')
                                $('#BLch2now').css('background-color', 'transparent')
                                $('#BLch3now').css('background-color', 'transparent')
                                $('#BLch4now').css('background-color', 'transparent')
								window.BLchactiveid = 0;
								window.BLchactivename = 0
                            }
                            break;
                            <!-- volume has changed -->
                        case "Application.OnVolumeChanged":
                            var notification = results.params.data.volume;
                            if ((notification === 0) && ($('#TLlistenselect').css('visibility') === 'visible') && ($('#TRlistenselect').css('visibility') === 'visible') && ($('#BRlistenselect').css('visibility') === 'visible')) {
                                $('#BLlistenselect').css('visibility', 'visible')
                                $('#BLlisten').css('border-color', 'transparent')
                                $('#VolumeUp').css('visibility', 'hidden')
                                $('#VolumeDown').css('visibility', 'hidden')
                                $('#MuteAllOutline').css('visibility', 'visible')
                                window.BLvolume = notification
                            } else if (notification === 0) {
                                $('#BLlistenselect').css('visibility', 'visible')
                                $('#BLlisten').css('border-color', 'transparent')
                                window.BLvolume = notification
                            } else if (notification != 0) {
                                $('#BLlistenselect').css('visibility', 'hidden')
                                $('#BLlisten').css('border-color', listenoutline)
                                $('#VolumeUp').css('visibility', 'visible')
                                $('#VolumeDown').css('visibility', 'visible')
                                $('#MuteAllOutline').css('visibility', 'hidden')
                                window.BLvolume = notification
                            }
                    }
                }
            }
        };
        // Open websocketBR connection
        websocketBR.onopen = function(event) {
            websocketBR.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "PVR.GetChannels",
                "params": {
                    "channelgroupid": "alltv",
                    "properties": ["uniqueid"]
                },
                "id": "PVR.GetChannelsBR"
            }))
            websocketBR.onmessage = function(event) {
                var results = JSON.parse(event.data);
                console.log(results);
                if (results.id) {
                    <!-- switch allows us to process results based on specific id -->
                    <!-- process returned JSON results from initial request -->
                    switch (results.id) {
                        <!-- globally define the PVR channelids and names
                        case "PVR.GetChannelsBR":
                            var findchannel = $.grep(results.result.channels, function(element, index) {
                                return element.label == PVRch1;
                            });
                            window.BRch1id = findchannel[0].channelid;
                            window.BRch1name = findchannel[0].label;
                            var findchannel = $.grep(results.result.channels, function(element, index) {
                                return element.label == PVRch2;
                            });
                            window.BRch2id = findchannel[0].channelid;
                            window.BRch2name = findchannel[0].label;
                            var findchannel = $.grep(results.result.channels, function(element, index) {
                                return element.label == PVRch3;
                            });
                            window.BRch3id = findchannel[0].channelid;
                            window.BRch3name = findchannel[0].label;
                            var findchannel = $.grep(results.result.channels, function(element, index) {
                                return element.label == PVRch4;
                            });
                            window.BRch4id = findchannel[0].channelid;
                            window.BRch4name = findchannel[0].label;
                            <!-- identify which channel is active  -->
                            websocketBR.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "Player.GetItem",
                                "params": {
                                    "properties": ["title"],
                                    "playerid": 1
                                },
                                "id": "Player.GetActiveChannelBR"
                            }))
                            break;
                            <!-- set background color for the active channel and define global active channel variable -->
                        case "Player.GetActiveChannelBR":
                            var response = results.result.item.id;
                            window.BRchactiveid = 0;
							window.BRchactivename = 0;
                            if (response === BRch1id) {
                                $('#BRch1now').css('background-color', channelselectcolor)
                                $('#BRch2now').css('background-color', 'transparent')
                                $('#BRch3now').css('background-color', 'transparent')
                                $('#BRch4now').css('background-color', 'transparent')
                                window.BRchactiveid = BRch1id;
								window.BRchactivename = results.result.item.label
                            } else if (response === BRch2id) {
                                $('#BRch1now').css('background-color', 'transparent')
                                $('#BRch2now').css('background-color', channelselectcolor)
                                $('#BRch3now').css('background-color', 'transparent')
                                $('#BRch4now').css('background-color', 'transparent')
                                window.BRchactiveid = BRch2id;
								window.BRchactivename = results.result.item.label
                            } else if (response === BRch3id) {
                                $('#BRch1now').css('background-color', 'transparent')
                                $('#BRch2now').css('background-color', 'transparent')
                                $('#BRch3now').css('background-color', channelselectcolor)
                                $('#BRch4now').css('background-color', 'transparent')
                                window.BRchactiveid = BRch3id;
								window.BRchactivename = results.result.item.label
                            } else if (response === BRch4id) {
                                $('#BRch1now').css('background-color', 'transparent')
                                $('#BRch2now').css('background-color', 'transparent')
                                $('#BRch3now').css('background-color', 'transparent')
                                $('#BRch4now').css('background-color', channelselectcolor)
                                window.BRchactiveid = BRch4id;
								window.BRchactivename = results.result.item.label
                            }
                            <!-- get the PVR channels EPG data and icon -->
                            websocketBR.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "PVR.GetChannelDetails",
                                "params": {
                                    "channelid": BRch1id,
                                    "properties": ["broadcastnow", "broadcastnext", "icon"]
                                },
                                "id": "PVR.GetChannelDetailsBRch1"
                            }))
                            break;
                            <!-- tvheadend backend grabbing EPG using Schedules Direct JSON web services with SQLite DB -->
                            <!-- EPG time provided is in format "YYYY-MM-DD HH:MM:SS". Time is GMT but is not properly formatted ISO 8601 format. Using luxon to add GMT zone to the retreived JSON data and then localized to the proper time zone so the correct time is displayed. -->
                        case "PVR.GetChannelDetailsBRch1": // define the channel guide data 
                            var datetimeparse = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnow.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetime = datetimeparse.setZone("local");
                            <!-- send the results to the specified table row -->
                            document.getElementById("BRch1nowimg").src = results.result.channeldetails.icon;
                            if (results.result.channeldetails.broadcastnow.title === "2020 NCAA Basketball Tournament") {
                                document.getElementById("BRch1nowEPG").innerHTML = results.result.channeldetails.broadcastnow.episodename;
                            } else {
                                document.getElementById("BRch1nowEPG").innerHTML = results.result.channeldetails.broadcastnow.title;
                            }
                            websocketBR.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "PVR.GetChannelDetails",
                                "params": {
                                    "channelid": BRch2id,
                                    "properties": ["broadcastnow", "broadcastnext", "icon"]
                                },
                                "id": "PVR.GetChannelDetailsBRch2"
                            }))
                            break;
                        case "PVR.GetChannelDetailsBRch2": // define the channel guide data 
                            var datetimeparse = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnow.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetime = datetimeparse.setZone("local");
                            document.getElementById("BRch2nowimg").src = results.result.channeldetails.icon;
                            if (results.result.channeldetails.broadcastnow.title === "2020 NCAA Basketball Tournament") {
                                document.getElementById("BRch2nowEPG").innerHTML = results.result.channeldetails.broadcastnow.episodename;
                            } else {
                                document.getElementById("BRch2nowEPG").innerHTML = results.result.channeldetails.broadcastnow.title;
                            }
                            websocketBR.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "PVR.GetChannelDetails",
                                "params": {
                                    "channelid": BRch3id,
                                    "properties": ["broadcastnow", "broadcastnext", "icon"]
                                },
                                "id": "PVR.GetChannelDetailsBRch3"
                            }))
                            break;
                        case "PVR.GetChannelDetailsBRch3": // define the channel guide data 
                            var datetimeparse = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnow.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetime = datetimeparse.setZone("local");
                            document.getElementById("BRch3nowimg").src = results.result.channeldetails.icon;
                            if (results.result.channeldetails.broadcastnow.title === "2020 NCAA Basketball Tournament") {
                                document.getElementById("BRch3nowEPG").innerHTML = results.result.channeldetails.broadcastnow.episodename;
                            } else {
                                document.getElementById("BRch3nowEPG").innerHTML = results.result.channeldetails.broadcastnow.title;
                            }
                            websocketBR.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "PVR.GetChannelDetails",
                                "params": {
                                    "channelid": BRch4id,
                                    "properties": ["broadcastnow", "broadcastnext", "icon"]
                                },
                                "id": "PVR.GetChannelDetailsBRch4"
                            }))
                            break;
                        case "PVR.GetChannelDetailsBRch4": // define the channel guide data 
                            var datetimeparse = luxon.DateTime.fromSQL(results.result.channeldetails.broadcastnow.starttime, {
                                zone: 'Etc/GMT'
                            });
                            var localizetime = datetimeparse.setZone("local");
                            document.getElementById("BRch4nowimg").src = results.result.channeldetails.icon;
                            if (results.result.channeldetails.broadcastnow.title === "2020 NCAA Basketball Tournament") {
                                document.getElementById("BRch4nowEPG").innerHTML = results.result.channeldetails.broadcastnow.episodename;
                            } else {
                                document.getElementById("BRch4nowEPG").innerHTML = results.result.channeldetails.broadcastnow.title;
                            }
                            <!-- request volume information -->
                            websocketBR.send(JSON.stringify({
                                "jsonrpc": "2.0",
                                "method": "Application.GetProperties",
                                "params": {
                                    "properties": ["volume"]
                                },
                                "id": "Application.VolumeBR"
                            }))
                            break;
                        case "Application.VolumeBR":
                            var response = results.result.volume;
                            <!-- all tvs are muted -->
                            if ((response === 0) && ($('#TLlistenselect').css('visibility') === 'visible') && ($('#TRlistenselect').css('visibility') === 'visible') && ($('#BLlistenselect').css('visibility') === 'visible')) {
                                $('#BRlistenselect').css('visibility', 'visible')
                                $('#BRlisten').css('border-color', 'transparent')
                                $('#VolumeUp').css('visibility', 'hidden')
                                $('#VolumeDown').css('visibility', 'hidden')
                                $('#MuteAllOutline').css('visibility', 'visible')
                                window.BRvolume = response
                                    <!-- bottom left tv is muted -->	
                            } else if (response === 0) {
                                $('#BRlistenselect').css('visibility', 'visible')
                                $('#BRlisten').css('border-color', 'transparent')
                                window.BRvolume = response
                                    <!-- bottom left tv is not muted -->
                            } else if (response != 0) {
                                $('#BRlistenselect').css('visibility', 'hidden')
                                $('#BRlisten').css('border-color', listenoutline)
                                $('#VolumeUp').css('visibility', 'visible')
                                $('#VolumeDown').css('visibility', 'visible')
                                $('#MuteAllOutline').css('visibility', 'hidden')
                                window.BRvolume = response
                            }
                        default:
                    }
                } else {
                    <!-- process all JSON messages that are received without sending a requeste -->
                    switch (results.method) {
                        <!-- change in active channel -->
                        case "Player.OnPlay":
                            var notification = results.params.data.item.id;
                            if (notification === BRch1id) {
                                $('#BRch1now').css('background-color', channelselectcolor)
                                $('#BRch2now').css('background-color', 'transparent')
                                $('#BRch3now').css('background-color', 'transparent')
                                $('#BRch4now').css('background-color', 'transparent')
                                window.BRchactiveid = BRch1id;
								window.BRchactivename = results.params.data.item.title
                            } else if (notification === BRch2id) {
                                $('#BRch1now').css('background-color', 'transparent')
                                $('#BRch2now').css('background-color', channelselectcolor)
                                $('#BRch3now').css('background-color', 'transparent')
                                $('#BRch4now').css('background-color', 'transparent')
                                window.BRchactiveid = BRch2id;
								window.BRchactivename = results.params.data.item.title
                            } else if (notification === BRch3id) {
                                $('#BRch1now').css('background-color', 'transparent')
                                $('#BRch2now').css('background-color', 'transparent')
                                $('#BRch3now').css('background-color', channelselectcolor)
                                $('#BRch4now').css('background-color', 'transparent')
                                window.BRchactiveid = BRch3id;
								window.BRchactivename = results.params.data.item.title
                            } else if (notification === BRch4id) {
                                $('#BRch1now').css('background-color', 'transparent')
                                $('#BRch2now').css('background-color', 'transparent')
                                $('#BRch3now').css('background-color', 'transparent')
                                $('#BRch4now').css('background-color', channelselectcolor)
                                window.BRchactiveid = BRch4id;
								window.BRchactivename = results.params.data.item.title
                            }
                            break;
                        case "Player.OnStop":
                            var notification = results.method;
                            <!-- bottom left tv has been stopped -->
                            if (notification == "Player.OnStop") {
                                $('#BRch1now').css('background-color', 'transparent')
                                $('#BRch2now').css('background-color', 'transparent')
                                $('#BRch3now').css('background-color', 'transparent')
                                $('#BRch4now').css('background-color', 'transparent')
								window.BRchactiveid = 0;
								window.BRchactivename = 0
                            }
                            break;
                            <!-- volume has changed -->
                        case "Application.OnVolumeChanged":
                            var notification = results.params.data.volume;
                            if ((notification === 0) && ($('#TLlistenselect').css('visibility') === 'visible') && ($('#TRlistenselect').css('visibility') === 'visible') && ($('#BLlistenselect').css('visibility') === 'visible')) {
                                $('#BRlistenselect').css('visibility', 'visible')
                                $('#BRlisten').css('border-color', 'transparent')
                                $('#VolumeUp').css('visibility', 'hidden')
                                $('#VolumeDown').css('visibility', 'hidden')
                                $('#MuteAllOutline').css('visibility', 'visible')
                                window.BRvolume = notification
                            } else if (notification === 0) {
                                $('#BRlistenselect').css('visibility', 'visible')
                                $('#BRlisten').css('border-color', 'transparent')
                                window.BRvolume = notification
                            } else if (notification != 0) {
                                $('#BRlistenselect').css('visibility', 'hidden')
                                $('#BRlisten').css('border-color', listenoutline)
                                $('#VolumeUp').css('visibility', 'visible')
                                $('#VolumeDown').css('visibility', 'visible')
                                $('#MuteAllOutline').css('visibility', 'hidden')
                                window.BRvolume = notification
                            }
                    }
                }
            }
        };
        <!-- Top Left TV -->
        <!-- Top Left PVRch1  >
        $('#TLch1now').click(function() {
            <!-- if PRVch1 is active on top right tv swap channels -->
            if (TLch1name === TRchactivename) {
				if (TLchactivename === TRch1name) {
					var swapchannel = TRch1id
				} else if (TLchactivename === TRch2name) {
					var swapchannel = TRch2id
				} else if (TLchactivename === TRch3name) {
					var swapchannel = TRch3id
				} else if (TLchactivename === TRch4name) {
					var swapchannel = TRch4id
				} else {
					var swapchannel = TRchactiveid
				};
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTRch"
                }));
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TLch1id
                        }
                    },
                    "id": "PlayTLch1"
                }));
                <!-- if PRVch1 is active on bottom left tv swap channels -->
            } else if (TLch1name === BLchactivename) {
				if (TLchactivename === BLch1name) {
					var swapchannel = BLch1id
				} else if (TLchactivename === BLch2name) {
					var swapchannel = BLch2id
				} else if (TLchactivename === BLch3name) {
					var swapchannel = BLch3id
				} else if (TLchactivename === BLch4name) {
					var swapchannel = BLch4id
				} else {
					var swapchannel = BLchactiveid
				};
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TLch1id
                        }
                    },
                    "id": "PlayTLch1"
                }));
                <!-- if PRVch1 is active on bottom right tv swap channels --
            } else if (TLch1name === BRchactivename) {
				if (TLchactivename === BRch1name) {
					var swapchannel = BRch1id
				} else if (TLchactivename === BRch2name) {
					var swapchannel = BRch2id
				} else if (TLchactivename === BRch3name) {
					var swapchannel = BRch3id
				} else if (TLchactivename === BRch4name) {
					var swapchannel = BRch4id
				} else {
					var swapchannel = BRchactiveid
				};
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TLch1id
                        }
                    },
                    "id": "PlayTLch1"
                }));
                <!-- if PVRch1 is not active on either the top right or bottom left tvs simply play PVRch1 on the top left tv -->
            } else {
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TLch1id
                        }
                    },
                    "id": "PlayTLch1"
                }));
            };
        });

        <!-- Top Left PVRch2 -->
        $('#TLch2now').click(function() {
            if (TLch2name === TRchactivename) {
				if (TLchactivename === TRch1name) {
					var swapchannel = TRch1id
				} else if (TLchactivename === TRch2name) {
					var swapchannel = TRch2id
				} else if (TLchactivename === TRch3name) {
					var swapchannel = TRch3id
				} else if (TLchactivename === TRch4name) {
					var swapchannel = TRch4id
				} else {
					var swapchannel = TRchactiveid
				};
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTRch"
                }));
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TLch2id
                        }
                    },
                    "id": "PlayTLch2"
                }));
            } else if (TLch2name === BLchactivename) {
				if (TLchactivename === BLch1name) {
					var swapchannel = BLch1id
				} else if (TLchactivename === BLch2name) {
					var swapchannel = BLch2id
				} else if (TLchactivename === BLch3name) {
					var swapchannel = BLch3id
				} else if (TLchactivename === BLch4name) {
					var swapchannel = BLch4id
				} else {
					var swapchannel = BLchactiveid
				};
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TLch2id
                        }
                    },
                    "id": "PlayTLch2"
                }));
            } else if (TLch2name === BRchactivename) {
				if (TLchactivename === BRch1name) {
					var swapchannel = BRch1id
				} else if (TLchactivename === BRch2name) {
					var swapchannel = BRch2id
				} else if (TLchactivename === BRch3name) {
					var swapchannel = BRch3id
				} else if (TLchactivename === BRch4name) {
					var swapchannel = BRch4id
				} else {
					var swapchannel = BRchactiveid
				};
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TLch2id
                        }
                    },
                    "id": "PlayTLch2"
                }));
            } else {
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TLch2id
                        }
                    },
                    "id": "PlayTLch2"
                }));
            };
        });

        <!-- Top Left PVRch3 -->
        $('#TLch3now').click(function() {
            if (TLch3name === TRchactivename) {
				if (TLchactivename === TRch1name) {
					var swapchannel = TRch1id
				} else if (TLchactivename === TRch2name) {
					var swapchannel = TRch2id
				} else if (TLchactivename === TRch3name) {
					var swapchannel = TRch3id
				} else if (TLchactivename === TRch4name) {
					var swapchannel = TRch4id
				} else {
					var swapchannel = TRchactiveid
				};
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTRch"
                }));
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TLch3id
                        }
                    },
                    "id": "PlayTLch3"
                }));
            } else if (TLch3name === BLchactivename) {
				if (TLchactivename === BLch1name) {
					var swapchannel = BLch1id
				} else if (TLchactivename === BLch2name) {
					var swapchannel = BLch2id
				} else if (TLchactivename === BLch3name) {
					var swapchannel = BLch3id
				} else if (TLchactivename === BLch4name) {
					var swapchannel = BLch4id
				} else {
					var swapchannel = BLchactiveid
				};
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TLch3id
                        }
                    },
                    "id": "PlayTLch3"
                }));
            } else if (TLch3name === BRchactivename) {
				if (TLchactivename === BRch1name) {
					var swapchannel = BRch1id
				} else if (TLchactivename === BRch2name) {
					var swapchannel = BRch2id
				} else if (TLchactivename === BRch3name) {
					var swapchannel = BRch3id
				} else if (TLchactivename === BRch4name) {
					var swapchannel = BRch4id
				} else {
					var swapchannel = BRchactiveid
				};
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TLch3id
                        }
                    },
                    "id": "PlayTLch3"
                }));
            } else {
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TLch3id
                        }
                    },
                    "id": "PlayTLch3"
                }));
            };
        });
        <!-- Top Left PVRch4 -->
        $('#TLch4now').click(function() {
            if (TLch4name === TRchactivename) {
				if (TLchactivename === TRch1name) {
					var swapchannel = TRch1id
				} else if (TLchactivename === TRch2name) {
					var swapchannel = TRch2id
				} else if (TLchactivename === TRch3name) {
					var swapchannel = TRch3id
				} else if (TLchactivename === TRch4name) {
					var swapchannel = TRch4id
				} else {
					var swapchannel = TRchactiveid
				};
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTRch"
                }));
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TLch4id
                        }
                    },
                    "id": "PlayTLch4"
                }));
            } else if (TLch4name === BLchactivename) {
				if (TLchactivename === BLch1name) {
					var swapchannel = BLch1id
				} else if (TLchactivename === BLch2name) {
					var swapchannel = BLch2id
				} else if (TLchactivename === BLch3name) {
					var swapchannel = BLch3id
				} else if (TLchactivename === BLch4name) {
					var swapchannel = BLch4id
				} else {
					var swapchannel = BLchactiveid
				};
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TLch4id
                        }
                    },
                    "id": "PlayTLch4"
                }));
            } else if (TLch4name === BRchactivename) {
				if (TLchactivename === BRch1name) {
					var swapchannel = BRch1id
				} else if (TLchactivename === BRch2name) {
					var swapchannel = BRch2id
				} else if (TLchactivename === BRch3name) {
					var swapchannel = BRch3id
				} else if (TLchactivename === BRch4name) {
					var swapchannel = BRch4id
				} else {
					var swapchannel = BRchactiveid
				};
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TLch4id
                        }
                    },
                    "id": "PlayTLch4"
                }));
            } else {
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TLch4id
                        }
                    },
                    "id": "PlayTLch4"
                }));
            };
        });

        <!-- Top Left Listen -->
        $('#TLlistenselect').click(function() {
            websocketTL.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 75
                },
                "id": "VolumeTL.TL"
            }));
            websocketTR.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 0
                },
                "id": "VolumeTL.TR"
            }));
            websocketBL.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 0
                },
                "id": "VolumeTL.BL"
            }));
            websocketBR.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 0
                },
                "id": "VolumeTL.BR"
            }));
        });

        <!-- Top Right TV -->
        <!-- Top Right PVRch1  >
        $('#TRch1now').click(function() {
            if (TRch1name === TLchactivename) {
				if (TRchactivename === TLch1name) {
					var swapchannel = TLch1id
				} else if (TRchactivename === TLch2name) {
					var swapchannel = TLch2id
				} else if (TRchactivename === TLch3name) {
					var swapchannel = TLch3id
				} else if (TRchactivename === TLch4name) {
					var swapchannel = TLch4id
				} else {
					var swapchannel = TLchactiveid
				};
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTLch"
                }));
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TRch1id
                        }
                    },
                    "id": "PlayTRch1"
                }));
            } else if (TRch1name === BLchactivename) {
				if (TRchactivename === BLch1name) {
					var swapchannel = BLch1id
				} else if (TRchactivename === BLch2name) {
					var swapchannel = BLch2id
				} else if (TRchactivename === BLch3name) {
					var swapchannel = BLch3id
				} else if (TRchactivename === BLch4name) {
					var swapchannel = BLch4id
				} else {
					var swapchannel = BLchactiveid
				};
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TRch1id
                        }
                    },
                    "id": "PlayTRch1"
                }));
            } else if (TRch1name === BRchactivename) {
				if (TRchactivename === BRch1name) {
					var swapchannel = BRch1id
				} else if (TRchactivename === BRch2name) {
					var swapchannel = BRch2id
				} else if (TRchactivename === BRch3name) {
					var swapchannel = BRch3id
				} else if (TRchactivename === BRch4name) {
					var swapchannel = BRch4id
				} else {
					var swapchannel = BRchactiveid
				};
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TRch1id
                        }
                    },
                    "id": "PlayTRch1"
                }));
            } else {
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TRch1id
                        }
                    },
                    "id": "PlayTRch1"
                }));
            };
        });

        <!-- Top Right PVRch2 -->
        $('#TRch2now').click(function() {
            if (TRch2name === TLchactivename) {
				if (TRchactivename === TLch1name) {
					var swapchannel = TLch1id
				} else if (TRchactivename === TLch2name) {
					var swapchannel = TLch2id
				} else if (TRchactivename === TLch3name) {
					var swapchannel = TLch3id
				} else if (TRchactivename === TLch4name) {
					var swapchannel = TLch4id
				} else {
					var swapchannel = TLchactiveid
				};
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTLch"
                }));
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TRch2id
                        }
                    },
                    "id": "PlayTRch2"
                }));
            } else if (TRch2name === BLchactivename) {
				if (TRchactivename === BLch1name) {
					var swapchannel = BLch1id
				} else if (TRchactivename === BLch2name) {
					var swapchannel = BLch2id
				} else if (TRchactivename === BLch3name) {
					var swapchannel = BLch3id
				} else if (TRchactivename === BLch4name) {
					var swapchannel = BLch4id
				} else {
					var swapchannel = BLchactiveid
				};
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TRch2id
                        }
                    },
                    "id": "PlayTRch2"
                }));
            } else if (TRch2name === BRchactivename) {
				if (TRchactivename === BRch1name) {
					var swapchannel = BRch1id
				} else if (TRchactivename === BRch2name) {
					var swapchannel = BRch2id
				} else if (TRchactivename === BRch3name) {
					var swapchannel = BRch3id
				} else if (TRchactivename === BRch4name) {
					var swapchannel = BRch4id
				} else {
					var swapchannel = BRchactiveid
				};
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TRch2id
                        }
                    },
                    "id": "PlayTRch2"
                }));
            } else {
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TRch2id
                        }
                    },
                    "id": "PlayTRch2"
                }));
            };
        });

        <!-- Top Right PVRch3 -->
        $('#TRch3now').click(function() {
            if (TRch3name === TLchactivename) {
				if (TRchactivename === TLch1name) {
					var swapchannel = TLch1id
				} else if (TRchactivename === TLch2name) {
					var swapchannel = TLch2id
				} else if (TRchactivename === TLch3name) {
					var swapchannel = TLch3id
				} else if (TRchactivename === TLch4name) {
					var swapchannel = TLch4id
				} else {
					var swapchannel = TLchactiveid
				};
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTLch"
                }));
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TRch3id
                        }
                    },
                    "id": "PlayTRch3"
                }));
            } else if (TRch3name === BLchactivename) {
				if (TRchactivename === BLch1name) {
					var swapchannel = BLch1id
				} else if (TRchactivename === BLch2name) {
					var swapchannel = BLch2id
				} else if (TRchactivename === BLch3name) {
					var swapchannel = BLch3id
				} else if (TRchactivename === BLch4name) {
					var swapchannel = BLch4id
				} else {
					var swapchannel = BLchactiveid
				};
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TRch3id
                        }
                    },
                    "id": "PlayTRch3"
                }));
            } else if (TRch3name === BRchactivename) {
				if (TRchactivename === BRch1name) {
					var swapchannel = BRch1id
				} else if (TRchactivename === BRch2name) {
					var swapchannel = BRch2id
				} else if (TRchactivename === BRch3name) {
					var swapchannel = BRch3id
				} else if (TRchactivename === BRch4name) {
					var swapchannel = BRch4id
				} else {
					var swapchannel = BRchactiveid
				};
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TRch3id
                        }
                    },
                    "id": "PlayTRch3"
                }));
            } else {
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TRch3id
                        }
                    },
                    "id": "PlayTRch3"
                }));
            };
        });

        <!-- Top Right PVRch4 -->
        $('#TRch4now').click(function() {
            if (TRch4name === TLchactivename) {
				if (TRchactivename === TLch1name) {
					var swapchannel = TLch1id
				} else if (TRchactivename === TLch2name) {
					var swapchannel = TLch2id
				} else if (TRchactivename === TLch3name) {
					var swapchannel = TLch3id
				} else if (TRchactivename === TLch4name) {
					var swapchannel = TLch4id
				} else {
					var swapchannel = TLchactiveid
				};
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTLch"
                }));
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TRch4id
                        }
                    },
                    "id": "PlayTRch4"
                }));
            } else if (TRch4name === BLchactivename) {
				if (TRchactivename === BLch1name) {
					var swapchannel = BLch1id
				} else if (TRchactivename === BLch2name) {
					var swapchannel = BLch2id
				} else if (TRchactivename === BLch3name) {
					var swapchannel = BLch3id
				} else if (TRchactivename === BLch4name) {
					var swapchannel = BLch4id
				} else {
					var swapchannel = BLchactiveid
				};
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TRch4id
                        }
                    },
                    "id": "PlayTRch4"
                }));
            } else if (TRch4name === BRchactivename) {
				if (TRchactivename === BRch1name) {
					var swapchannel = BRch1id
				} else if (TRchactivename === BRch2name) {
					var swapchannel = BRch2id
				} else if (TRchactivename === BRch3name) {
					var swapchannel = BRch3id
				} else if (TRchactivename === BRch4name) {
					var swapchannel = BRch4id
				} else {
					var swapchannel = BRchactiveid
				};
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TRch4id
                        }
                    },
                    "id": "PlayTRch4"
                }));
            } else {
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": TRch4id
                        }
                    },
                    "id": "PlayTRch4"
                }));
            };
        });

        <!-- Top Right Listen -->
        $('#TRlistenselect').click(function() {
            websocketTL.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 0
                },
                "id": "VolumeTR.TL"
            }));
            websocketTR.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 75
                },
                "id": "VolumeTR.TR"
            }));
            websocketBL.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 0
                },
                "id": "VolumeTR.BL"
            }));
            websocketBR.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 0
                },
                "id": "VolumeTR.BR"
            }));
        });

        <!-- Bottom Left TV -->
        <!-- Bottom Left PVRch1  >
        $('#BLch1now').click(function() {
            if (BLch1name === TLchactivename) {
				if (BLchactivename === TLch1name) {
					var swapchannel = TLch1id
				} else if (BLchactivename === TLch2name) {
					var swapchannel = TLch2id
				} else if (BLchactivename === TLch3name) {
					var swapchannel = TLch3id
				} else if (BLchactivename === TLch4name) {
					var swapchannel = TLch4id
				} else {
					var swapchannel = TLchactiveid
				};
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTLch"
                }));
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BLch1id
                        }
                    },
                    "id": "PlayBLch1"
                }));
            } else if (BLch1name === TRchactivename) {
				if (BLchactivename === TRch1name) {
					var swapchannel = TRch1id
				} else if (BLchactivename === TRch2name) {
					var swapchannel = TRch2id
				} else if (BLchactivename === TRch3name) {
					var swapchannel = TRch3id
				} else if (BLchactivename === TRch4name) {
					var swapchannel = TRch4id
				} else {
					var swapchannel = TRchactiveid
				};
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTRch"
                }));
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BLch1id
                        }
                    },
                    "id": "PlayBLch1"
                }));
            } else if (BLch1name === BRchactivename) {
				if (BLchactivename === BRch1name) {
					var swapchannel = BRch1id
				} else if (BLchactivename === BRch2name) {
					var swapchannel = BRch2id
				} else if (BLchactivename === BRch3name) {
					var swapchannel = BRch3id
				} else if (BLchactivename === BRch4name) {
					var swapchannel = BRch4id
				} else {
					var swapchannel = BRchactiveid
				};
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BLch1id
                        }
                    },
                    "id": "PlayBLch1"
                }));
            } else {
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BLch1id
                        }
                    },
                    "id": "PlayBLch1"
                }));
            };
        });

        <!-- Bottom Left PVRch2 -->
        $('#BLch2now').click(function() {
            if (BLch2name === TLchactivename) {
				if (BLchactivename === TLch1name) {
					var swapchannel = TLch1id
				} else if (BLchactivename === TLch2name) {
					var swapchannel = TLch2id
				} else if (BLchactivename === TLch3name) {
					var swapchannel = TLch3id
				} else if (BLchactivename === TLch4name) {
					var swapchannel = TLch4id
				} else {
					var swapchannel = TLchactiveid
				};
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTLch"
                }));
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BLch2id
                        }
                    },
                    "id": "PlayBLch2"
                }));
            } else if (BLch2name === TRchactivename) {
				if (BLchactivename === TRch1name) {
					var swapchannel = TRch1id
				} else if (BLchactivename === TRch2name) {
					var swapchannel = TRch2id
				} else if (BLchactivename === TRch3name) {
					var swapchannel = TRch3id
				} else if (BLchactivename === TRch4name) {
					var swapchannel = TRch4id
				} else {
					var swapchannel = TRchactiveid
				};
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTRch"
                }));
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BLch2id
                        }
                    },
                    "id": "PlayBLch2"
                }));
            } else if (BLch2name === BRchactivename) {
				if (BLchactivename === BRch1name) {
					var swapchannel = BRch1id
				} else if (BLchactivename === BRch2name) {
					var swapchannel = BRch2id
				} else if (BLchactivename === BRch3name) {
					var swapchannel = BRch3id
				} else if (BLchactivename === BRch4name) {
					var swapchannel = BRch4id
				} else {
					var swapchannel = BRchactiveid
				};
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BLch2id
                        }
                    },
                    "id": "PlayBLch2"
                }));
            } else {
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BLch2id
                        }
                    },
                    "id": "PlayBLch2"
                }));
            };
        });

        <!-- Bottom Left PVRch3 -->
        $('#BLch3now').click(function() {
            if (BLch3name === TLchactivename) {
				if (BLchactivename === TLch1name) {
					var swapchannel = TLch1id
				} else if (BLchactivename === TLch2name) {
					var swapchannel = TLch2id
				} else if (BLchactivename === TLch3name) {
					var swapchannel = TLch3id
				} else if (BLchactivename === TLch4name) {
					var swapchannel = TLch4id
				} else {
					var swapchannel = TLchactiveid
				};
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTLch"
                }));
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BLch3id
                        }
                    },
                    "id": "PlayBLch3"
                }));
            } else if (BLch3name === TRchactivename) {
				if (BLchactivename === TRch1name) {
					var swapchannel = TRch1id
				} else if (BLchactivename === TRch2name) {
					var swapchannel = TRch2id
				} else if (BLchactivename === TRch3name) {
					var swapchannel = TRch3id
				} else if (BLchactivename === TRch4name) {
					var swapchannel = TRch4id
				} else {
					var swapchannel = TRchactiveid
				};
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTRch"
                }));
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BLch3id
                        }
                    },
                    "id": "PlayBLch3"
                }));
            } else if (BLch3name === BRchactivename) {
				if (BLchactivename === BRch1name) {
					var swapchannel = BRch1id
				} else if (BLchactivename === BRch2name) {
					var swapchannel = BRch2id
				} else if (BLchactivename === BRch3name) {
					var swapchannel = BRch3id
				} else if (BLchactivename === BRch4name) {
					var swapchannel = BRch4id
				} else {
					var swapchannel = BRchactiveid
				};
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BLch3id
                        }
                    },
                    "id": "PlayBLch3"
                }));
            } else {
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BLch3id
                        }
                    },
                    "id": "PlayBLch3"
                }));
            };
        });

        <!-- Bottom Left PVRch4 -->
        $('#BLch4now').click(function() {
            if (BLch4name === TLchactivename) {
				if (BLchactivename === TLch1name) {
					var swapchannel = TLch1id
				} else if (BLchactivename === TLch2name) {
					var swapchannel = TLch2id
				} else if (BLchactivename === TLch3name) {
					var swapchannel = TLch3id
				} else if (BLchactivename === TLch4name) {
					var swapchannel = TLch4id
				} else {
					var swapchannel = TLchactiveid
				};
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTLch"
                }));
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BLch4id
                        }
                    },
                    "id": "PlayBLch4"
                }));
            } else if (BLch4name === TRchactivename) {
				if (BLchactivename === TRch1name) {
					var swapchannel = TRch1id
				} else if (BLchactivename === TRch2name) {
					var swapchannel = TRch2id
				} else if (BLchactivename === TRch3name) {
					var swapchannel = TRch3id
				} else if (BLchactivename === TRch4name) {
					var swapchannel = TRch4id
				} else {
					var swapchannel = TRchactiveid
				};
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTRch"
                }));
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BLch4id
                        }
                    },
                    "id": "PlayBLch4"
                }));
            } else if (BLch4name === BRchactivename) {
				if (BLchactivename === BRch1name) {
					var swapchannel = BRch1id
				} else if (BLchactivename === BRch2name) {
					var swapchannel = BRch2id
				} else if (BLchactivename === BRch3name) {
					var swapchannel = BRch3id
				} else if (BLchactivename === BRch4name) {
					var swapchannel = BRch4id
				} else {
					var swapchannel = BRchactiveid
				};
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BLch4id
                        }
                    },
                    "id": "PlayBLch4"
                }));
            } else {
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BLch4id
                        }
                    },
                    "id": "PlayBLch4"
                }));
            };
        });

        <!-- Bottom Left Listen -->
        $('#BLlistenselect').click(function() {
            websocketTL.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 0
                },
                "id": "VolumeBL.TL"
            }));
            websocketTR.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 0
                },
                "id": "VolumeBL.TR"
            }));
            websocketBL.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 75
                },
                "id": "VolumeBL.BL"
            }));
            websocketBR.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 0
                },
                "id": "VolumeBL.BR"
            }));
        });

        <!-- Bottom Right TV -->
        <!-- Bottom Right PVRch1  >
        $('#BRch1now').click(function() {
            if (BRch1name === TLchactivename) {
				if (BRchactivename === TLch1name) {
					var swapchannel = TLch1id
				} else if (BRchactivename === TLch2name) {
					var swapchannel = TLch2id
				} else if (BRchactivename === TLch3name) {
					var swapchannel = TLch3id
				} else if (BRchactivename === TLch4name) {
					var swapchannel = TLch4id
				} else {
					var swapchannel = TLchactiveid
				};
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTLch"
                }));
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BRch1id
                        }
                    },
                    "id": "PlayBRch1"
                }));
            } else if (BRch1name === TRchactivename) {
				if (BRchactivename === TRch1name) {
					var swapchannel = TRch1id
				} else if (BRchactivename === TRch2name) {
					var swapchannel = TRch2id
				} else if (BRchactivename === TRch3name) {
					var swapchannel = TRch3id
				} else if (BRchactivename === TRch4name) {
					var swapchannel = TRch4id
				} else {
					var swapchannel = TRchactiveid
				};
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTRch"
                }));
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BRch1id
                        }
                    },
                    "id": "PlayBRch1"
                }));
            } else if (BRch1name === BLchactivename) {
				if (BRchactivename === BLch1name) {
					var swapchannel = BLch1id
				} else if (BRchactivename === BLch2name) {
					var swapchannel = BLch2id
				} else if (BRchactivename === BLch3name) {
					var swapchannel = BLch3id
				} else if (BRchactivename === BLch4name) {
					var swapchannel = BLch4id
				} else {
					var swapchannel = BLchactiveid
				};
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BRch1id
                        }
                    },
                    "id": "PlayBRch1"
                }));
            } else {
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BRch1id
                        }
                    },
                    "id": "PlayBRch1"
                }));
            };
        });

        <!-- Bottom Right PVRch2 -->
        $('#BRch2now').click(function() {
            if (BRch2name === TLchactivename) {
				if (BRchactivename === TLch1name) {
					var swapchannel = TLch1id
				} else if (BRchactivename === TLch2name) {
					var swapchannel = TLch2id
				} else if (BRchactivename === TLch3name) {
					var swapchannel = TLch3id
				} else if (BRchactivename === TLch4name) {
					var swapchannel = TLch4id
				} else {
					var swapchannel = TLchactiveid
				};
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTLch"
                }));
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BRch2id
                        }
                    },
                    "id": "PlayBRch2"
                }));
            } else if (BRch2name === TRchactivename) {
				if (BRchactivename === TRch1name) {
					var swapchannel = TRch1id
				} else if (BRchactivename === TRch2name) {
					var swapchannel = TRch2id
				} else if (BRchactivename === TRch3name) {
					var swapchannel = TRch3id
				} else if (BRchactivename === TRch4name) {
					var swapchannel = TRch4id
				} else {
					var swapchannel = TRchactiveid
				};
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTRch"
                }));
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BRch2id
                        }
                    },
                    "id": "PlayBRch2"
                }));
            } else if (BRch2name === BLchactivename) {
				if (BRchactivename === BLch1name) {
					var swapchannel = BLch1id
				} else if (BRchactivename === BLch2name) {
					var swapchannel = BLch2id
				} else if (BRchactivename === BLch3name) {
					var swapchannel = BLch3id
				} else if (BRchactivename === BLch4name) {
					var swapchannel = BLch4id
				} else {
					var swapchannel = BLchactiveid
				};
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BRch2id
                        }
                    },
                    "id": "PlayBRch2"
                }));
            } else {
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BRch2id
                        }
                    },
                    "id": "PlayBRch2"
                }));
            };
        });

        <!-- Bottom Right PVRch3 -->
        $('#BRch3now').click(function() {
            if (BRch3name === TLchactivename) {
				if (BRchactivename === TLch1name) {
					var swapchannel = TLch1id
				} else if (BRchactivename === TLch2name) {
					var swapchannel = TLch2id
				} else if (BRchactivename === TLch3name) {
					var swapchannel = TLch3id
				} else if (BRchactivename === TLch4name) {
					var swapchannel = TLch4id
				} else {
					var swapchannel = TLchactiveid
				};
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTLch"
                }));
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BRch3id
                        }
                    },
                    "id": "PlayBRch3"
                }));
            } else if (BRch3name === TRchactivename) {
				if (BRchactivename === TRch1name) {
					var swapchannel = TRch1id
				} else if (BRchactivename === TRch2name) {
					var swapchannel = TRch2id
				} else if (BRchactivename === TRch3name) {
					var swapchannel = TRch3id
				} else if (BRchactivename === TRch4name) {
					var swapchannel = TRch4id
				} else {
					var swapchannel = TRchactiveid
				};
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTRch"
                }));
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BRch3id
                        }
                    },
                    "id": "PlayBRch3"
                }));
            } else if (BRch3name === BLchactivename) {
				if (BRchactivename === BLch1name) {
					var swapchannel = BLch1id
				} else if (BRchactivename === BLch2name) {
					var swapchannel = BLch2id
				} else if (BRchactivename === BLch3name) {
					var swapchannel = BLch3id
				} else if (BRchactivename === BLch4name) {
					var swapchannel = BLch4id
				} else {
					var swapchannel = BLchactiveid
				};
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BRch3id
                        }
                    },
                    "id": "PlayBRch3"
                }));
            } else {
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BRch3id
                        }
                    },
                    "id": "PlayBRch3"
                }));
            };
        });

        <!-- Bottom Right PVRch4 -->
        $('#BRch4now').click(function() {
            if (BRch4name === TLchactivename) {
				if (BRchactivename === TLch1name) {
					var swapchannel = TLch1id
				} else if (BRchactivename === TLch2name) {
					var swapchannel = TLch2id
				} else if (BRchactivename === TLch3name) {
					var swapchannel = TLch3id
				} else if (BRchactivename === TLch4name) {
					var swapchannel = TLch4id
				} else {
					var swapchannel = TLchactiveid
				};
                websocketTL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTLch"
                }));
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BRch4id
                        }
                    },
                    "id": "PlayBRch4"
                }));
            } else if (BRch4name === TRchactivename) {
				if (BRchactivename === TRch1name) {
					var swapchannel = TRch1id
				} else if (BRchactivename === TRch2name) {
					var swapchannel = TRch2id
				} else if (BRchactivename === TRch3name) {
					var swapchannel = TRch3id
				} else if (BRchactivename === TRch4name) {
					var swapchannel = TRch4id
				} else {
					var swapchannel = TRchactiveid
				};
                websocketTR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayTRch"
                }));
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BRch4id
                        }
                    },
                    "id": "PlayBRch4"
                }));
            } else if (BRch4name === BLchactivename) {
				if (BRchactivename === BLch1name) {
					var swapchannel = BLch1id
				} else if (BRchactivename === BLch2name) {
					var swapchannel = BLch2id
				} else if (BRchactivename === BLch3name) {
					var swapchannel = BLch3id
				} else if (BRchactivename === BLch4name) {
					var swapchannel = BLch4id
				} else {
					var swapchannel = BLchactiveid
				};
                websocketBL.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": swapchannel
                        }
                    },
                    "id": "PlayBLch"
                }));
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BRch4id
                        }
                    },
                    "id": "PlayBRch4"
                }));
            } else {
                websocketBR.send(JSON.stringify({
                    "jsonrpc": "2.0",
                    "method": "Player.Open",
                    "params": {
                        "item": {
                            "channelid": BRch4id
                        }
                    },
                    "id": "PlayBRch4"
                }));
            };
        });

        <!-- Bottom Right Listen -->
        $('#BRlistenselect').click(function() {
            websocketTL.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 0
                },
                "id": "VolumeBR.TL"
            }));
            websocketTR.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 0
                },
                "id": "VolumeBR.TR"
            }));
            websocketBL.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 0
                },
                "id": "VolumeBR.BL"
            }));
            websocketBR.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 75
                },
                "id": "VolumeBR.BR"
            }));
        });

        <!-- Volume Up -->
        <!-- volume up for for the tv(s) that are not muted. holding the volume up button will repeat the action -->
        $(document).ready(function() {
            var i = 0,
                timeOut = 0;
            $('#VolumeUp').on('mousedown touchstart', function(e) {
                $(this).addClass('active');
                timeOut = setInterval(function() {
                    if ((TLvolume != 0) && (TRvolume != 0) && (BLvolume != 0) && (BRvolume != 0)) {
                        websocketTL.send(JSON.stringify({
                            "jsonrpc": "2.0",
                            "method": "Application.SetVolume",
                            "params": {
                                "volume": "increment"
                            },
                            "id": "VolumeUp.TL"
                        }))
                        websocketTR.send(JSON.stringify({
                            "jsonrpc": "2.0",
                            "method": "Application.SetVolume",
                            "params": {
                                "volume": "increment"
                            },
                            "id": "VolumeUp.TR"
                        }))
                        websocketBL.send(JSON.stringify({
                            "jsonrpc": "2.0",
                            "method": "Application.SetVolume",
                            "params": {
                                "volume": "increment"
                            },
                            "id": "VolumeUp.BL"
                        }))
                        websocketBR.send(JSON.stringify({
                            "jsonrpc": "2.0",
                            "method": "Application.SetVolume",
                            "params": {
                                "volume": "increment"
                            },
                            "id": "VolumeUp.BR"
                        }))
                    } else if (TLvolume != 0) {
                        websocketTL.send(JSON.stringify({
                            "jsonrpc": "2.0",
                            "method": "Application.SetVolume",
                            "params": {
                                "volume": "increment"
                            },
                            "id": "VolumeUp.TL"
                        }))
                    } else if (TRvolume != 0) {
                        websocketTR.send(JSON.stringify({
                            "jsonrpc": "2.0",
                            "method": "Application.SetVolume",
                            "params": {
                                "volume": "increment"
                            },
                            "id": "VolumeUp.TR"
                        }))
                    } else if (BLvolume != 0) {
                        websocketBL.send(JSON.stringify({
                            "jsonrpc": "2.0",
                            "method": "Application.SetVolume",
                            "params": {
                                "volume": "increment"
                            },
                            "id": "VolumeUp.BL"
                        }))
                    } else if (BRvolume != 0) {
                        websocketBR.send(JSON.stringify({
                            "jsonrpc": "2.0",
                            "method": "Application.SetVolume",
                            "params": {
                                "volume": "increment"
                            },
                            "id": "VolumeUp.BR"
                        }))
                    }
                }, 100);
            }).bind('mouseup mouseleave touchend', function() {
                $(this).removeClass('active');
                clearInterval(timeOut);
            });
        });

        <!-- Volume Down -->
        <!-- volume up for for the tv(s) that are not muted. holding the volume up button will repeat the action -->
        $(document).ready(function() {
            var i = 0,
                timeOut = 0;
            $('#VolumeDown').on('mousedown touchstart', function(e) {
                $(this).addClass('active');
                timeOut = setInterval(function() {
                    if ((TLvolume != 0) && (TRvolume != 0) && (BLvolume != 0) && (BRvolume != 0)) {
                        websocketTL.send(JSON.stringify({
                            "jsonrpc": "2.0",
                            "method": "Application.SetVolume",
                            "params": {
                                "volume": "decrement"
                            },
                            "id": "VolumeDown.TL"
                        }))
                        websocketTR.send(JSON.stringify({
                            "jsonrpc": "2.0",
                            "method": "Application.SetVolume",
                            "params": {
                                "volume": "decrement"
                            },
                            "id": "VolumeDown.TR"
                        }))
                        websocketBL.send(JSON.stringify({
                            "jsonrpc": "2.0",
                            "method": "Application.SetVolume",
                            "params": {
                                "volume": "decrement"
                            },
                            "id": "VolumeDown.BL"
                        }))
                        websocketBR.send(JSON.stringify({
                            "jsonrpc": "2.0",
                            "method": "Application.SetVolume",
                            "params": {
                                "volume": "decrement"
                            },
                            "id": "VolumeDown.BR"
                        }))
                    } else if (TLvolume != 0) {
                        websocketTL.send(JSON.stringify({
                            "jsonrpc": "2.0",
                            "method": "Application.SetVolume",
                            "params": {
                                "volume": "decrement"
                            },
                            "id": "VolumeDown.TL"
                        }))
                    } else if (TRvolume != 0) {
                        websocketTR.send(JSON.stringify({
                            "jsonrpc": "2.0",
                            "method": "Application.SetVolume",
                            "params": {
                                "volume": "decrement"
                            },
                            "id": "VolumeDown.TR"
                        }))
                    } else if (BLvolume != 0) {
                        websocketBL.send(JSON.stringify({
                            "jsonrpc": "2.0",
                            "method": "Application.SetVolume",
                            "params": {
                                "volume": "decrement"
                            },
                            "id": "VolumeDown.BL"
                        }))
                    } else if (BRvolume != 0) {
                        websocketBR.send(JSON.stringify({
                            "jsonrpc": "2.0",
                            "method": "Application.SetVolume",
                            "params": {
                                "volume": "decrement"
                            },
                            "id": "VolumeDown.BR"
                        }))
                    }
                }, 100);
            }).bind('mouseup mouseleave touchend', function() {
                $(this).removeClass('active');
                clearInterval(timeOut);
            });
        });

        <!-- Mute All and Stop All -->
        $('#MuteAll').each(function() {
		<!-- Stop All -->
            var timeout, longtouch;
            $(this).bind( "touchstart", function() {
                timeout = setTimeout(function() {
                    longtouch = true;
                }, 1500);
            }).bind( "touchend", function() {
                if (longtouch) {
                    websocketTL.send(JSON.stringify({
                        "jsonrpc": "2.0",
                        "method": "Player.Stop",
                        "params": {
                            "playerid": 1
                        },
                        "id": "Stop.TL"
                    }));
                    websocketTR.send(JSON.stringify({
                        "jsonrpc": "2.0",
                        "method": "Player.Stop",
                        "params": {
                            "playerid": 1
                        },
                        "id": "Stop.TR"
                    }));
                    websocketBL.send(JSON.stringify({
                        "jsonrpc": "2.0",
                        "method": "Player.Stop",
                        "params": {
                            "playerid": 1
                        },
                        "id": "Stop.BL"
                    }));
                    websocketBR.send(JSON.stringify({
                        "jsonrpc": "2.0",
                        "method": "Player.Stop",
                        "params": {
                            "playerid": 1
                        },
                        "id": "Stop.BR"
                    }));
                    websocketTL.send(JSON.stringify({
                        "jsonrpc": "2.0",
                        "method": "Application.SetVolume",
                        "params": {
                            "volume": 100
                        },
                        "id": "FullVolume.TL"
                    }));
                    websocketTR.send(JSON.stringify({
                        "jsonrpc": "2.0",
                        "method": "Application.SetVolume",
                        "params": {
                            "volume": 100
                        },
                        "id": "FullVolume.TR"
                    }));
                    websocketBL.send(JSON.stringify({
                        "jsonrpc": "2.0",
                        "method": "Application.SetVolume",
                        "params": {
                            "volume": 100
                        },
                        "id": "FullVolume.BL"
                    }));
                    websocketBR.send(JSON.stringify({
                        "jsonrpc": "2.0",
                        "method": "Application.SetVolume",
                        "params": {
                            "volume": 100
                        },
                        "id": "FullVolume.BR"
                    }));
				<!-- Mute All -->
                } else {
                    websocketTL.send(JSON.stringify({
                        "jsonrpc": "2.0",
                        "method": "Application.SetVolume",
                        "params": {
                            "volume": 0
                        },
                        "id": "Mute.TL"
                    }));
                    websocketTR.send(JSON.stringify({
                        "jsonrpc": "2.0",
                        "method": "Application.SetVolume",
                        "params": {
                            "volume": 0
                        },
                        "id": "Mute.TR"
                    }));
                    websocketBL.send(JSON.stringify({
                        "jsonrpc": "2.0",
                        "method": "Application.SetVolume",
                        "params": {
                            "volume": 0
                        },
                        "id": "Mute.BL"
                    }));
                    websocketBR.send(JSON.stringify({
                        "jsonrpc": "2.0",
                        "method": "Application.SetVolume",
                        "params": {
                            "volume": 0
                        },
                        "id": "Mute.BR"
                    }));
                }
                longtouch = false;
                clearTimeout(timeout);
            });
        });

        <!-- Stop All -->
        $('#TLch4next').click(function() {
            websocketTL.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Player.Stop",
                "params": {
                    "playerid": 1
                },
                "id": "Stop.TL"
            }));
            websocketTR.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Player.Stop",
                "params": {
                    "playerid": 1
                },
                "id": "Stop.TR"
            }));
            websocketBL.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Player.Stop",
                "params": {
                    "playerid": 1
                },
                "id": "Stop.BL"
            }));
            websocketBR.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Player.Stop",
                "params": {
                    "playerid": 1
                },
                "id": "Stop.BR"
            }));
        });

        <!-- Set all tv volumes to 100 -->
        $('#TLch3next').click(function() {
            websocketTL.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 100
                },
                "id": "FullVolume.TL"
            }));
            websocketTR.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 100
                },
                "id": "FullVolume.TR"
            }));
            websocketBL.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 100
                },
                "id": "FullVolume.BL"
            }));
            websocketBR.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "Application.SetVolume",
                "params": {
                    "volume": 100
                },
                "id": "FullVolume.BR"
            }));
        });

        <!-- Manually refresh Page -->
        $('#TLch1next').click(function() {
            window.location.reload()
        });

        <!-- Automatically refresh EPG data by sending a websocket message at a set interval -->
        function Autoupdate() {
            websocketTL.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "PVR.GetChannels",
                "params": {
                    "channelgroupid": "alltv"
                },
                "id": "PVR.GetChannelsTL"
            }));
            websocketTR.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "PVR.GetChannels",
                "params": {
                    "channelgroupid": "alltv"
                },
                "id": "PVR.GetChannelsTR"
            }));
            websocketBL.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "PVR.GetChannels",
                "params": {
                    "channelgroupid": "alltv"
                },
                "id": "PVR.GetChannelsBL"
            }));
            websocketBR.send(JSON.stringify({
                "jsonrpc": "2.0",
                "method": "PVR.GetChannels",
                "params": {
                    "channelgroupid": "alltv"
                },
                "id": "PVR.GetChannelsBR"
            }));
        };
        setInterval(Autoupdate, 60000); <!-- Time in milliseconds -->
        <!-- combined with css overflow: hidden and position: fixed to prevent scrolling on iOS -->
        document.body.ontouchmove = function(e) {
            e.preventDefault();
        }
		document.getElementById('MuteAll').draggable = false;
    </script>
</body>

</html>